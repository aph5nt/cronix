<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>The startup script manual
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="F# / C# Cron Service"/>
    <meta name="author" content="aph5nt"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/cronix/content/style.css" />
    <script type="text/javascript" src="/cronix/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/aph5nt/cronix">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/cronix/index.html">cronix</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<p>Defining and configuring jobs with startup.fsx file.</p>

<h1><a name="The-startup-script-manual" class="anchor" href="#The-startup-script-manual">The startup script manual</a></h1>

<p>Introduction:
- What is startup.fsx file for?</p>

<p>The intention of having a seperate for configuring jobs is to give developers the flexibility and ease of use.
In the startup.fsx file, developer can configure and schedule jobs embeded in the service assembly and also reference 
external assemblies and create custom jobs on fly!
Startup script is compiled on the Cronix service startup time.</p>

<p>Sample script:</p>

<ul>
<li>Lets take a look how does the minimalistic startup.fsx file looks like.</li>
</ul>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// We reference assemblies for Visual Studio inlellisense support.</span>
<span class="prep">#if</span> <span class="i">INTERACTIVE</span>
<span class="inactive">#I</span><span class="inactive"> </span><span class="inactive">&quot;.&quot;</span>
<span class="inactive">#I</span><span class="inactive"> </span><span class="inactive">&quot;bin\Debug&quot;</span>
<span class="inactive">#I</span><span class="inactive"> </span><span class="inactive">&quot;bin\Release&quot;</span>
<span class="inactive">#r</span><span class="inactive"> </span><span class="inactive">&quot;Cronix.dll&quot;</span>
<span class="inactive">#r</span><span class="inactive"> </span><span class="inactive">&quot;CSharpSample.exe&quot;</span><span class="inactive"> </span><span class="inactive">//</span><span class="inactive"> </span><span class="inactive">this</span><span class="inactive"> </span><span class="inactive">is</span><span class="inactive"> </span><span class="inactive">our</span><span class="inactive"> </span><span class="inactive">executable</span><span class="inactive">  </span><span class="inactive">where</span><span class="inactive"> </span><span class="inactive">we</span><span class="inactive"> </span><span class="inactive">had</span><span class="inactive"> </span><span class="inactive">initialized</span><span class="inactive"> </span><span class="inactive">Cronix</span><span class="inactive"> </span><span class="inactive">service.</span>
<span class="inactive">#r</span><span class="inactive"> </span><span class="inactive">&quot;Chessie.dll&quot;</span>
<span class="prep">#endif</span>

<span class="k">namespace</span> <span class="i">Cronix</span><span class="o">.</span><span class="i">Startup</span>

<span class="c">/// This module must have that name in order to be compiled correctly by Cronix service.</span>
<span class="k">module</span> <span class="t">RunAtStartup</span> <span class="o">=</span>
    
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">Threading</span>
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 3)" onmouseover="showTip(event, 'fs1', 3)" class="i">System</span>
    <span class="k">open</span> <span class="i">Cronix</span>
    <span class="k">open</span> <span class="i">Messages</span>
    <span class="k">open</span> <span class="i">CSharpSample</span><span class="o">.</span><span class="i">Jobs</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="f">start</span> (<span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="i">scheduler</span> <span class="o">:</span> <span class="i">IScheduleManager</span>) <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="i">scheduler</span><span class="o">.</span><span class="i">Schedule</span> <span class="s">&quot;job1&quot;</span> <span class="s">&quot;* * * * *&quot;</span> <span class="o">&lt;|</span> <span class="i">Callback</span>(<span class="i">sampleJob</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="f">ignore</span>
        ()
</pre>
</td>
</tr>
</table>

<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace System.Threading</div>
<div class="tip" id="fs3">val start : scheduler:&#39;a -&gt; unit<br /><br />Full name: Cronix.Startup.RunAtStartup.start</div>
<div class="tip" id="fs4">val scheduler : &#39;a</div>
<div class="tip" id="fs5">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>

        </div>
        <div class="span3">
          <img src="/cronix/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">cronix</li>
            <li><a href="/cronix/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/cronix">Get Library via NuGet</a></li>
            <li><a href="http://github.com/aph5nt/cronix">Source Code on GitHub</a></li>
            <li><a href="/cronix/license.html">License</a></li>
            <li><a href="/cronix/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/cronix/tutorial.html">Sample tutorial</a></li>
		  	<li><a href="/cronix/startup script.html">Startup script</a></li>
            <li class="nav-header">Documentation</li>
            <li><a href="/cronix/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/aph5nt/cronix"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
